<!doctype html>
<html lang="en-us">
  <head>
    <title>Typescript-ç±»å‹å·¥å…·ä¸æ³›å‹ // Alanfliu Blog</title>
    <link rel="shortcut icon" href="/favicon.ico" />
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.126.3">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Alanfliu" />
    <meta name="description" content="" />
    <link rel="stylesheet" href="/css/main.min.5b1fcc8902588589c4767187402a3c29f8b8d7a6fdef6d9f8f77045bb0d14fee.css" />
    

    
  


    
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Typescript-ç±»å‹å·¥å…·ä¸æ³›å‹">
  <meta name="twitter:description" content="å‰è¨€ æœ€è¿‘åœ¨é‡æ–°å­¦ä¹  Typescript, ä»ç±»å‹å·¥å…·ä¸æ³›å‹å¼€å§‹æ¢³ç†èµ·ï¼Œ æ¯•ç«Ÿæ³›å‹æ˜¯ TS çš„çµé­‚ä¹‹ä¸€ï¼Œ è€Œæ³›å‹æ˜¯ç¦»ä¸å¼€ç±»å‹å·¥å…·çš„ï¼› è¿™ç¯‡åšå®¢ä»ä»¥ä¸‹ä¸‰ç‚¹å¼€å¯æ¢³ç†ï¼š
ç±»å‹å·¥å…· æ³›å‹ å¸¸è§å·¥å…·å‡½æ•°çš„æ¨¡æ‹Ÿå®ç° 1 ç±»å‹å·¥å…· ç±»å‹å·¥å…·é¡¾åæ€ä¹‰ï¼Œå®ƒå°±æ˜¯å¯¹ç±»å‹è¿›è¡Œå¤„ç†çš„å·¥å…·ã€‚æŒ‰ç…§ä½¿ç”¨ç›®çš„æ¥åˆ’åˆ†ï¼Œç±»å‹å·¥å…·å¯ä»¥åˆ†ä¸º ç±»å‹åˆ›å»º ä¸ ç±»å‹å®‰å…¨ä¿æŠ¤ ä¸¤ç±»ã€‚
ç±»å‹å·¥å…·ï¼šè´Ÿè´£åˆ›å»ºç±»å‹ ç±»å‹å®‰å…¨ä¿æŠ¤ï¼šè´Ÿè´£å®ˆå«ç±»å‹ 1.1 ç±»å‹å·¥å…· è”åˆç±»å‹å¾ˆç®€å•ï¼Œ çœ‹ä¸‹é¢çš„ä»£ç ï¼š
interface NameStruct { name: string; } interface AgeStruct { age: number; } type NameOrAge = NameStruct | AgeStruct; const p: NameOrAge = { name: &#34;12&#34;, age: 12, }; const p2: NameOrAge = { name: &#34;12&#34;, }; const p3: NameOrAge = { age: 12, }; å¦‚ä½•ä¸¤ä¸ªç±»å‹ A å’Œ B ç»„æˆä¸€ä¸ªè”åˆç±»å‹ C, é‚£ä¹ˆ C å°±éœ€è¦ç¬¦åˆè¦ä¹ˆæ˜¯ Aï¼Œè¦ä¹ˆæ˜¯ Bï¼Œ è¦ä¹ˆæ˜¯ AB">

    <meta property="og:url" content="https://alanfliu.github.io/posts/ts%E5%AD%A6%E4%B9%A0-%E6%B3%9B%E5%9E%8B/">
  <meta property="og:site_name" content="Alanfliu Blog">
  <meta property="og:title" content="Typescript-ç±»å‹å·¥å…·ä¸æ³›å‹">
  <meta property="og:description" content="å‰è¨€ æœ€è¿‘åœ¨é‡æ–°å­¦ä¹  Typescript, ä»ç±»å‹å·¥å…·ä¸æ³›å‹å¼€å§‹æ¢³ç†èµ·ï¼Œ æ¯•ç«Ÿæ³›å‹æ˜¯ TS çš„çµé­‚ä¹‹ä¸€ï¼Œ è€Œæ³›å‹æ˜¯ç¦»ä¸å¼€ç±»å‹å·¥å…·çš„ï¼› è¿™ç¯‡åšå®¢ä»ä»¥ä¸‹ä¸‰ç‚¹å¼€å¯æ¢³ç†ï¼š
ç±»å‹å·¥å…· æ³›å‹ å¸¸è§å·¥å…·å‡½æ•°çš„æ¨¡æ‹Ÿå®ç° 1 ç±»å‹å·¥å…· ç±»å‹å·¥å…·é¡¾åæ€ä¹‰ï¼Œå®ƒå°±æ˜¯å¯¹ç±»å‹è¿›è¡Œå¤„ç†çš„å·¥å…·ã€‚æŒ‰ç…§ä½¿ç”¨ç›®çš„æ¥åˆ’åˆ†ï¼Œç±»å‹å·¥å…·å¯ä»¥åˆ†ä¸º ç±»å‹åˆ›å»º ä¸ ç±»å‹å®‰å…¨ä¿æŠ¤ ä¸¤ç±»ã€‚
ç±»å‹å·¥å…·ï¼šè´Ÿè´£åˆ›å»ºç±»å‹ ç±»å‹å®‰å…¨ä¿æŠ¤ï¼šè´Ÿè´£å®ˆå«ç±»å‹ 1.1 ç±»å‹å·¥å…· è”åˆç±»å‹å¾ˆç®€å•ï¼Œ çœ‹ä¸‹é¢çš„ä»£ç ï¼š
interface NameStruct { name: string; } interface AgeStruct { age: number; } type NameOrAge = NameStruct | AgeStruct; const p: NameOrAge = { name: &#34;12&#34;, age: 12, }; const p2: NameOrAge = { name: &#34;12&#34;, }; const p3: NameOrAge = { age: 12, }; å¦‚ä½•ä¸¤ä¸ªç±»å‹ A å’Œ B ç»„æˆä¸€ä¸ªè”åˆç±»å‹ C, é‚£ä¹ˆ C å°±éœ€è¦ç¬¦åˆè¦ä¹ˆæ˜¯ Aï¼Œè¦ä¹ˆæ˜¯ Bï¼Œ è¦ä¹ˆæ˜¯ AB">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-06-22T14:14:35+08:00">
    <meta property="article:modified_time" content="2024-06-22T14:14:35+08:00">


  </head>
  <body>
    <header class="app-header">
      <a href="https://alanfliu.github.io/"><img class="app-header-avatar" src="/avatar.jpg" alt="Alanfliu" /></a>
      <span class="app-header-title">Alanfliu Blog</span>
      <p>å‰ç«¯ç¨‹åºå‘˜ï¼ŒåŠªåŠ›æ¢ç´¢ä¸–ç•Œä¸­~~</p>
      <div class="app-header-social">
        
          <a href="https://github.com/alanfliu" target="_blank" rel="noreferrer noopener me">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-github">
  <title>My Github</title>
  <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
</svg>
          </a>
        
      </div>
    </header>
    <main class="app-container">
      
  <article class="post">
    <header class="post-header">
      <h1 class ="post-title">Typescript-ç±»å‹å·¥å…·ä¸æ³›å‹</h1>
      <div class="post-meta">
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-calendar">
  <title>calendar</title>
  <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line>
</svg>
          Jun 22, 2024
        </div>
        <div>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-clock">
  <title>clock</title>
  <circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>
</svg>
          5 min read
        </div>
      </div>
    </header>
    <div class="post-content">
      <h2 id="å‰è¨€">å‰è¨€</h2>
<blockquote>
<p>æœ€è¿‘åœ¨é‡æ–°å­¦ä¹  Typescript, ä»ç±»å‹å·¥å…·ä¸æ³›å‹å¼€å§‹æ¢³ç†èµ·ï¼Œ æ¯•ç«Ÿæ³›å‹æ˜¯ TS çš„çµé­‚ä¹‹ä¸€ï¼Œ è€Œæ³›å‹æ˜¯ç¦»ä¸å¼€ç±»å‹å·¥å…·çš„ï¼› è¿™ç¯‡åšå®¢ä»ä»¥ä¸‹ä¸‰ç‚¹å¼€å¯æ¢³ç†ï¼š</p>
</blockquote>
<ol>
<li>ç±»å‹å·¥å…·</li>
<li>æ³›å‹</li>
<li>å¸¸è§å·¥å…·å‡½æ•°çš„æ¨¡æ‹Ÿå®ç°</li>
</ol>
<h2 id="1-ç±»å‹å·¥å…·">1 ç±»å‹å·¥å…·</h2>
<p>ç±»å‹å·¥å…·é¡¾åæ€ä¹‰ï¼Œå®ƒå°±æ˜¯å¯¹ç±»å‹è¿›è¡Œå¤„ç†çš„å·¥å…·ã€‚æŒ‰ç…§ä½¿ç”¨ç›®çš„æ¥åˆ’åˆ†ï¼Œç±»å‹å·¥å…·å¯ä»¥åˆ†ä¸º ç±»å‹åˆ›å»º ä¸ ç±»å‹å®‰å…¨ä¿æŠ¤ ä¸¤ç±»ã€‚</p>
<ol>
<li>ç±»å‹å·¥å…·ï¼šè´Ÿè´£åˆ›å»ºç±»å‹</li>
<li>ç±»å‹å®‰å…¨ä¿æŠ¤ï¼šè´Ÿè´£å®ˆå«ç±»å‹</li>
</ol>
<h3 id="11-ç±»å‹å·¥å…·">1.1 ç±»å‹å·¥å…·</h3>
<p>è”åˆç±»å‹å¾ˆç®€å•ï¼Œ çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">NameStruct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">AgeStruct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">NameOrAge</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">NameStruct</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">AgeStruct</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p</span>: <span style="color:#66d9ef">NameOrAge</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;12&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">12</span>,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p2</span>: <span style="color:#66d9ef">NameOrAge</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;12&#34;</span>,
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p3</span>: <span style="color:#66d9ef">NameOrAge</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">12</span>,
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>å¦‚ä½•ä¸¤ä¸ªç±»å‹ A å’Œ B ç»„æˆä¸€ä¸ªè”åˆç±»å‹ C, é‚£ä¹ˆ C å°±éœ€è¦ç¬¦åˆè¦ä¹ˆæ˜¯ Aï¼Œè¦ä¹ˆæ˜¯ Bï¼Œ è¦ä¹ˆæ˜¯ AB</p>
<p><strong>äº¤å‰å·¥å…·æ¯”è¾ƒéº»çƒ¦</strong>ï¼Œ å¾ˆå¤šæ—¶å€™ä¼šå¾—åˆ° Bottom Typeï¼š never ç±»å‹ã€‚çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">StringTypeStruct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">AgeTypeStruct</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ProfileType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">StringTypeStruct</span> <span style="color:#f92672">&amp;</span> <span style="color:#a6e22e">AgeTypeStruct</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">p</span>: <span style="color:#66d9ef">ProfileType</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">12</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;Alan&#34;</span>,
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>ä¸¤ä¸ªç±»å‹ A å’Œ B ç»„æˆä¸€ä¸ªè¾ƒå·®ç±»å‹ Cï¼Œ é‚£ä¹ˆ C å°±å¿…é¡»å³ç¬¦åˆ A ä¹Ÿç¬¦åˆ Bï¼Œ æ¯”å¦‚ä¸Šé¢çš„ ProfileType ç±»å‹ï¼Œ å¿…é¡»æœ‰ name å’Œ age ä¸¤ä¸ªå±æ€§</p>
<p>å¦‚ä½• A å’Œ B å…«å­—çŠ¯å†²ï¼Œ å‘½ä¸­æ³¨å®šä¸èƒ½åœ¨ä¸€èµ·ï¼Œ é‚£ä¹ˆå¾ˆé—æ†¾ï¼Œ åªèƒ½æ˜¯ never ç±»å‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">NeverType</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">string</span> <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">number</span>;
</span></span></code></pre></div><p>å¦‚ä½•ä¸¤ä¸ªç±»å‹ä¸­æœ‰åŒåçš„å±æ€§ï¼Œ é‚£ä¹ˆå°±ä¼šè¿›è¡ŒåŒåå±æ€§ç±»å‹åˆå¹¶ï¼Œæ¯”å¦‚ä¸‹é¢çš„ç¤ºä¾‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Struct1</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">primitiveProp</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">objectProp</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Struct2</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">primitiveProp</span>: <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">objectProp</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>    };
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Composed</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Struct1</span> <span style="color:#f92672">&amp;</span> <span style="color:#a6e22e">Struct2</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">PrimitivePropType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Composed</span>[<span style="color:#e6db74">&#34;primitiveProp&#34;</span>]; <span style="color:#75715e">// never
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ObjectPropType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Composed</span>[<span style="color:#e6db74">&#34;objectProp&#34;</span>]; <span style="color:#75715e">// { name: string; age: number; }
</span></span></span></code></pre></div><p>å¦‚æœä¸¤ä¸ªè”åˆç±»å‹ç»„æˆäº¤å‰ç±»å‹ï¼Œ é‚£ä¹ˆå¾—åˆ°çš„å°±æ˜¯ä¸¤ä¸ªè”åˆç±»å‹çš„äº¤é›†ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UnionIntersection1</span> <span style="color:#f92672">=</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">2</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">3</span>) <span style="color:#f92672">&amp;</span> (<span style="color:#ae81ff">1</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">2</span>); <span style="color:#75715e">// 1 | 2
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UnionIntersection2</span> <span style="color:#f92672">=</span> (<span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">symbol</span>) <span style="color:#f92672">&amp;</span> <span style="color:#66d9ef">string</span>; <span style="color:#75715e">// string
</span></span></span></code></pre></div><h3 id="12-ç´¢å¼•ç±»å‹">1.2 ç´¢å¼•ç±»å‹</h3>
<p>é¦–å…ˆå°±æ˜¯ç´¢å¼•ç­¾åï¼Œ æ¯”å¦‚å£°æ˜ä¸€ä¸ªé”®å€¼ç±»å‹ä¸€è‡´çš„ç±»å‹ç»“æ„ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">AllStringTypes</span> <span style="color:#f92672">=</span> { [<span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>]<span style="color:#f92672">:</span> <span style="color:#66d9ef">string</span> };
</span></span></code></pre></div><p>å…¶æ¬¡å…¶æ¬¡å°±æ˜¯ç´¢å¼•æŸ¥è¯¢ï¼Œ æ¯”å¦‚ä¸‹é¢çš„æ¥å£:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Person</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">email</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">createTime</span>: <span style="color:#66d9ef">Date</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>å¦‚ä½•å¾—åˆ° Person.name çš„ç±»å‹å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ç›´æ¥æŒ‰é”®åè·å–å°±è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">NameType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Person</span>[<span style="color:#e6db74">&#34;name&#34;</span>]; <span style="color:#75715e">// string
</span></span></span></code></pre></div><p>é‚£ä¹ˆå¦‚æœæˆ‘æƒ³è·å– Person æ¥å£çš„æ‰€æœ‰é”®åå‘¢ï¼Ÿé‚£å°±éœ€è¦ç”¨åˆ° keyof å…³é”®å­—äº†</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UnionPersonType</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">Person</span>; <span style="color:#75715e">// name | age | email | create
</span></span></span></code></pre></div><p>keyof å…³é”®å­—å°±æ˜¯éå†ä¸€ä¸ªæ¥å£æˆ–è€…ç±»å‹ï¼Œ å¾—åˆ°ä¸€ä¸ªç”±é”®åç»„æˆçš„è”åˆç±»å‹</p>
<p>æœ€åä¸€æ­¥ï¼Œ å¦‚æœæˆ‘èƒ½éå†è¿™ä¸ª<em>ç”±é”®åç»„æˆçš„è”åˆç±»å‹</em>ï¼Œ æ¥å£ç±»å‹æŸ¥è¯¢ï¼Œ æ˜¯ä¸æ˜¯å°±èƒ½å¤Ÿæ”¹å†™è¿™ä¸ªåŸå§‹ç±»å‹å‘¢ï¼Ÿ è¿˜çœŸèƒ½ï¼Œ é‚£å°±æ˜¯ in å…³é”®å­—ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ClonePersonType</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">Person</span>]<span style="color:#f92672">:</span> <span style="color:#a6e22e">Person</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ æˆ‘ä»¬é€šè¿‡ç´¢å¼•ç­¾åï¼Œå¿«é€Ÿå£°æ˜ä¸€ä¸ªç”±é”®å€¼ç»„æˆçš„ç±»å‹ç»“æ„ï¼› ä¹‹åé€šè¿‡ <strong>keyof</strong> å…³é”®å­—å–å‡º Person çš„æ‰€æœ‰é”®åï¼Œ é€šè¿‡<strong>in</strong>å…³é”®å­—éå†è¯»å–æ¯ä¸€ä¸ªé”®åï¼Œ ä¹‹åé€šè¿‡ç´¢å¼•æŸ¥è¯¢ï¼Œ å–å‡ºå¯¹åº”çš„ç±»å‹ï¼Œæ¯”å¦‚ <strong>Person[&ldquo;name&rdquo;]</strong>, è¿™æ ·å°±å¾—åˆ°äº†ä¸€ä¸ªè·Ÿ <strong>Person</strong> ä¸€æ¨¡ä¸€æ ·çš„ç±»å‹äº†ï¼ï¼</p>
<p>ç”¨ JS è¯­è¨€æ¥æè¿°ï¼Œ ä¼šæ›´åŠ ç›´è§‚ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// ç´¢å¼•ç”³æ˜,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">clonePerson</span> <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span><span style="color:#75715e">// keyof person
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">keyofPerson</span> <span style="color:#f92672">=</span> Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">Person</span>);
</span></span><span style="display:flex;"><span><span style="color:#75715e">// in
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">keyofPerson</span>.<span style="color:#a6e22e">forEach</span>((<span style="color:#a6e22e">key</span>) =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// ç´¢å¼•è®¿é—®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Person</span>[<span style="color:#a6e22e">key</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// å¤åˆ¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">clonePerson</span>[<span style="color:#a6e22e">key</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>});
</span></span></code></pre></div><p>æŠŠä¸Šé¢çš„ä»£ç å°è£…æˆä¸€ä¸ªå‡½æ•°ï¼Œ å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªå¯å¤ç”¨çš„å‡½æ•°ï¼› åœ¨ç±»å‹ç¼–ç¨‹ï¼Œä¹Ÿå°±æ˜¯ TS ä¸­ï¼Œ å£°æ˜ä¸€ä¸ªéå†ä¹Ÿå°±æ˜¯å°è£…å‡½æ•°çš„è¿‡ç¨‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#75715e">// js
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">getClonePerson</span> () =&gt; {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">clonePerson</span> <span style="color:#f92672">=</span> {};
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// keyof person
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">keyofPerson</span> <span style="color:#f92672">=</span> Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">Person</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// in
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">keyofPerson</span>.<span style="color:#a6e22e">forEach</span>((<span style="color:#a6e22e">key</span>) =&gt; {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// ç´¢å¼•è®¿é—®
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Person</span>[<span style="color:#a6e22e">key</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// å¤åˆ¶
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">clonePerson</span>[<span style="color:#a6e22e">key</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">value</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// ts
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">type</span> <span style="color:#a6e22e">ClonePersonType</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">Person</span>]<span style="color:#f92672">:</span> <span style="color:#a6e22e">Person</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h2 id="2-æ³›å‹">2 æ³›å‹</h2>
<h3 id="21-æ³›å‹ä»‹ç»">2.1 æ³›å‹ä»‹ç»</h3>
<p><strong>getClonePerson å‡½æ•°</strong>æ˜¯æ²¡æœ‰å‚æ•°çš„ï¼Œå†…éƒ¨ä½¿ç”¨äº†å…¨å±€å˜é‡ Person, ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå‡½æ•°åªèƒ½å¤„ç† Person è¿™ä¸€ä¸ªå€¼äº†ï¼Œ å¯¹äºå…¶ä»–çš„ç›¸åŒç»“æ„çš„å€¼ä¸èƒ½å®ç°æ‹·è´ï¼Œ è¿™æ˜¾ç„¶æ˜¯ä¸åˆç†çš„ã€‚</p>
<p>å›åˆ° TS ä¸­ï¼Œ ClonePersonType ç±»å‹åŒæ ·æ˜¯åªèƒ½ clone Person ç±»å‹ï¼Œ å¯¹äºå…¶ä»–çš„ç±»å‹ä¸èƒ½è¿›è¡Œ Clone, é‚£ä¹ˆåœ¨ç±»å‹å˜é‡ä¸­ï¼Œ æœ‰æ²¡æœ‰ä¸€ä¸ªä¸œè¥¿èƒ½å……å½“å˜é‡çš„ä½œç”¨å‘¢ï¼Ÿ ç­”æ¡ˆå°±æ˜¯<strong>æ³›å‹</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Union</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> <span style="color:#a6e22e">T</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UnionDate</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Union</span>&lt;<span style="color:#f92672">Date</span>&gt;; <span style="color:#75715e">//  string | number | Date
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Clone</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">T</span>]<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Person</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Profile</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">url</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">phone</span>: <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_ClonePerson</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_Clone</span>&lt;<span style="color:#f92672">Person</span>&gt;;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_CloneProfile</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_Clone</span>&lt;<span style="color:#f92672">Profile</span>&gt;;
</span></span></code></pre></div><p>æœ‰äº†è¿™ä¸ªåŸºç¡€ï¼Œ å°±å¯ä»¥æ‰‹å†™ Partial å’Œ Required ä¸¤ç§å†…ç½®å·¥å…·ç±»å‹äº†</p>
<ul>
<li>Partial: å°†æ‰€æœ‰å±æ€§å˜ä¸ºå¯é€‰</li>
<li>Required: å°†æ‰€æœ‰å±æ€§å˜ä¸ºå¿…é€‰</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Partial</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">T</span>]<span style="color:#f92672">?:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_PartialPerson</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_Partial</span>&lt;<span style="color:#f92672">Person</span>&gt;;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Required</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">T</span>]<span style="color:#f92672">-?:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_RequiredPerson</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_Required</span>&lt;<span style="color:#f92672">Partial</span><span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">Person</span>&gt;<span style="color:#f92672">&gt;</span>;
</span></span></code></pre></div><h3 id="22-extends-å…³é”®å­—">2.2 extends å…³é”®å­—</h3>
<p>å…‰æœ‰æ³›å‹æ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œ è¯•æƒ³ä¸€ä¸‹ï¼Œ åœ¨ç”¨ JS ç¼–ç¨‹ä¸­ï¼Œ å†™ä¸€ä¸ªå…¬å…±å‡½æ•°ï¼Œ å¿…é¡»è¦å¯¹å‚æ•°è¿›è¡Œç±»å‹åˆ¤æ–­ï¼Œ ç±»å‹ä¸å¯¹æ—¶ï¼Œ éœ€è¦æŠ›å‡ºé”™è¯¯ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">fatten</span>(<span style="color:#a6e22e">array</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (Array.<span style="color:#a6e22e">isArray</span>(<span style="color:#a6e22e">array</span>)) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">TypeErr</span>(<span style="color:#e6db74">&#34;param must be a Array&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// some logic
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>}
</span></span></code></pre></div><p>åœ¨ TS ä¸­ï¼Œ åŒæ ·éœ€è¦å¯¹ä¸€ä¸ªç±»å‹è¿›è¡Œçº¦æŸï¼ˆè¦æ±‚ä¼ å…¥è¿™ä¸ªå·¥å…·ç±»å‹çš„æ³›å‹å¿…é¡»ç¬¦åˆæŸäº›æ¡ä»¶ï¼‰ï¼Œ ä½¿ç”¨ extends å…³é”®å­—è¿›è¡Œï¼Œ<strong>A extends B</strong> æ„å‘³ç€ <strong>A æ˜¯ B çš„å­ç±»å‹</strong>ï¼Œ æ¯”å¦‚ï¼š</p>
<ul>
<li>å­—é¢é‡ç±»å‹æ˜¯å¯¹åº”åŸå§‹ç±»å‹çš„å­ç±»å‹ï¼Œå³ &rsquo;linbudu&rsquo; extends stringï¼Œ599 extends number æˆç«‹</li>
<li>è”åˆç±»å‹å­é›†å‡ä¸ºè”åˆç±»å‹çš„å­ç±»å‹ï¼Œå³ 1ã€ 1 | 2 æ˜¯ 1 | 2 | 3 | 4 çš„å­ç±»å‹ã€‚</li>
<li>åŸºç±»ä¸æ´¾ç”Ÿç±»ï¼ˆçˆ¶ç±»ä¸å­ç±»ï¼‰åŒç†ï¼Œ å¦‚ { name: string } æ˜¯ {} çš„å­ç±»å‹ï¼Œå› ä¸ºåœ¨ {} çš„åŸºç¡€ä¸Šå¢åŠ äº†é¢å¤–çš„ç±»å‹</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ResStatus</span>&lt;<span style="color:#f92672">ResCode</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">number</span>&gt; <span style="color:#f92672">=</span> <span style="color:#a6e22e">ResCode</span> <span style="color:#66d9ef">extends</span> <span style="color:#ae81ff">10000</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">10001</span> <span style="color:#f92672">|</span> <span style="color:#ae81ff">10002</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#34;success&#34;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;failure&#34;</span>;
</span></span></code></pre></div><h3 id="23-é»˜è®¤å€¼">2.3 é»˜è®¤å€¼</h3>
<p>æ³›å‹å¯ä»¥æ¥å—ä¸€ä¸ªé»˜è®¤å€¼ï¼Œ å½“æ²¡ä¼ æ³›å‹æ—¶ï¼Œ å°±ä¼šä½¿ç”¨é»˜è®¤å€¼</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">UnionBooleanType</span>&lt;<span style="color:#f92672">T</span> <span style="color:#960050;background-color:#1e0010">=</span> <span style="color:#a6e22e">boolean</span>&gt; <span style="color:#f92672">=</span> <span style="color:#66d9ef">string</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">number</span> <span style="color:#f92672">|</span> <span style="color:#66d9ef">boolean</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">MyType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">UnionBooleanType</span>; <span style="color:#75715e">// string | number | boolean
</span></span></span></code></pre></div><p>çœ‹åˆ°è¿™é‡Œï¼Œ å¯ä»¥æ€»ç»“å‡ºä¸€ä¸ªè§„å¾‹ï¼š</p>
<ul>
<li>ç±»å‹åˆ«åç›¸å½“äºä¸€ä¸ªå‡½æ•°ï¼Œ è€Œæ³›å‹å°±æ˜¯å‡½æ•°å½¢å‚</li>
<li>ç±»ä¼¼äºå‡½æ•°ï¼Œ ç±»å‹å¯ä»¥æœ‰é»˜è®¤å€¼ä¸çº¦æŸæ¡ä»¶</li>
</ul>
<h2 id="3-å¸¸è§å·¥å…·ç±»å‹çš„å®ç°">3 å¸¸è§å·¥å…·ç±»å‹çš„å®ç°</h2>
<h3 id="31-å±æ€§ä¿®é¥°æ€§å·¥å…·">3.1 å±æ€§ä¿®é¥°æ€§å·¥å…·</h3>
<ul>
<li>Partial å°†å±æ€§å˜ä¸ºå¯é€‰</li>
<li>Required å°†å±æ€§å˜ä¸ºå¿…é€‰</li>
<li>Readonly å°†å±æ€§å˜ä¸ºå¯è¯»</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Partial</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">T</span>]<span style="color:#f92672">?:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Required</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">T</span>]<span style="color:#f92672">-?:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Readonly</span>&lt;<span style="color:#f92672">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">readonly</span> [<span style="color:#a6e22e">K</span> <span style="color:#66d9ef">in</span> <span style="color:#66d9ef">keyof</span> <span style="color:#a6e22e">T</span>]<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">K</span>];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><h3 id="32-ç»“æ„å·¥å…·ç±»å‹">3.2 ç»“æ„å·¥å…·ç±»å‹</h3>
<ul>
<li>Pick&lt;A, B&gt; ä»å±æ€§ A ä¸­å–å‡º B çš„éƒ¨åˆ†</li>
<li>Omit&lt;A, B&gt; ä»å±æ€§ A å…¶ä¸­ä¸åŒ…å« B çš„éƒ¨åˆ†</li>
<li>Record&lt;A, B&gt; å£°æ˜ä¸€ä¸ª é”®åä¸º Aï¼Œ å€¼ä¸º B çš„ç»“æ„</li>
</ul>
<p>ç»“æ„å·¥å…·ç±»å‹å…¶å®åˆå¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼Œç»“æ„å£°æ˜å’Œç»“æ„å¤„ç†ã€‚
ç»“æ„å£°æ˜å·¥å…·ç±»å‹å³å¿«é€Ÿå£°æ˜ä¸€ä¸ªç»“æ„ï¼Œæ¯”å¦‚å†…ç½®ç±»å‹ä¸­çš„<strong>Record</strong>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Record</span>&lt;<span style="color:#f92672">K</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">any</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">P</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">K</span>]<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span>;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">StringObject</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">_Record</span>&lt;<span style="color:#f92672">string</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">string</span>&gt;;
</span></span></code></pre></div><p><strong>Pick</strong> ä»å±æ€§ä¸­å–å‡ºä¸€éƒ¨åˆ†å±æ€§ä½œä¸ºä¸€ä¸ªæ–°çš„ç±»å‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Pick</span>&lt;<span style="color:#f92672">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">K</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">T</span>&gt; <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    [<span style="color:#a6e22e">P</span> <span style="color:#66d9ef">in</span> <span style="color:#a6e22e">K</span>]<span style="color:#f92672">:</span> <span style="color:#a6e22e">T</span>[<span style="color:#a6e22e">P</span>];
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p><strong>Omit</strong> ä»å±æ€§ä¸­åˆ é™¤ä¸€éƒ¨åˆ†å±æ€§ï¼Œ å°†å‰©ä½™çš„å±æ€§ä½œä¸ºä¸€ä¸ªæ–°çš„ç±»å‹
è¿™ä¸ªå®ç°èµ·æ¥æ¯”è¾ƒéº»çƒ¦ï¼Œ æƒ³æƒ³æƒ³è¿™ä¸ªè¿™ä¹ˆç”¨ï¼Œ æ¯”å¦‚è¯´ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">School</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">name</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">age</span>: <span style="color:#66d9ef">number</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">address</span>: <span style="color:#66d9ef">string</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">OmitSchool</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Omit</span>&lt;<span style="color:#f92672">School</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#960050;background-color:#1e0010">&#34;</span><span style="color:#a6e22e">address</span><span style="color:#960050;background-color:#1e0010">&#34;</span>&gt;; <span style="color:#75715e">// {name, age}
</span></span></span></code></pre></div><p>ä¹Ÿå°±æ˜¯è¯´æ¥å—ä¸¤ä¸ªå‚æ•° A å’Œ Bï¼Œ å…¶ä¸­ B åº”è¯¥æ˜¯ A çš„å±æ€§åï¼Œ é‚£ä¹ˆå°±å¯ä»¥å†™å‡ºåŸºæœ¬çš„æ ¼å¼å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Omit</span>&lt;<span style="color:#f92672">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">K</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">T</span>&gt; <span style="color:#f92672">=</span> {};
</span></span></code></pre></div><p>å…¶æ¬¡ï¼Œ èµ·ä½œç”¨æ˜¯ä» T ä¸­å‰”é™¤ K çš„å±æ€§ï¼Œ ä¹Ÿå°±æ˜¯è¯´ä» T ä¸­é€‰å‡ºä¸åŒ…å« K çš„éƒ¨åˆ†ï¼Œ é‚£ä¹ˆå°±å¯ä»¥ç”¨ Pick æ¥å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Omit</span>&lt;<span style="color:#f92672">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">K</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">T</span>&gt; <span style="color:#f92672">=</span> <span style="color:#a6e22e">Pick</span>&lt;<span style="color:#f92672">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">ä¸åŒ…æ‹¬Kçš„éƒ¨åˆ†</span>&gt;;
</span></span></code></pre></div><p>é‚£ä¹ˆï¼Œ åªå‰©ä¸‹ä¸åŒ…æ‹¬ K çš„éƒ¨åˆ†åº”è¯¥è¿™ä¹ˆå®šä¹‰äº†ã€‚è¿™é‡Œä½¿ç”¨<strong>Exclude æ¥å®ç°</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Temp</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Exclude</span>&lt;<span style="color:#f92672">1</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">2</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">3</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">1</span> <span style="color:#960050;background-color:#1e0010">|</span> <span style="color:#a6e22e">2</span>&gt;; <span style="color:#75715e">// 3
</span></span></span></code></pre></div><p>ä»ä¸Šè¿°ä»£ç ä¸­å¯ä»¥çœ‹å‡ºï¼Œ Exclude&lt;A, B&gt; çš„ç»“æœå°±æ˜¯<strong>è”åˆç±»å‹ A</strong>ä¸­ä¸å­˜åœ¨äº B ä¸­çš„éƒ¨åˆ†ã€‚ é‚£ä¹ˆå°±å¯ä»¥å®Œå“¼çš„å†™å‡º Omit çš„ç±»å‹å®ç°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Omit</span>&lt;<span style="color:#f92672">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">K</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">T</span>&gt; <span style="color:#f92672">=</span> <span style="color:#a6e22e">Pick</span>&lt;<span style="color:#f92672">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">Exclude</span><span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">keyof</span> <span style="color:#a6e22e">T</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">K</span>&gt;<span style="color:#f92672">&gt;</span>;
</span></span></code></pre></div><h3 id="33-æ¨¡å¼åŒ¹é…å·¥å…·ç±»å‹">3.3 æ¨¡å¼åŒ¹é…å·¥å…·ç±»å‹</h3>
<p>æ¨¡å¼åŒ¹é…å·¥å…·å¸¸ç”¨äºå¤„ç†å‡½æ•°ä¸­ï¼š</p>
<ul>
<li>Parameters æå–å‡½æ•°çš„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå…ƒç¥–</li>
<li>ReturnType æå–å‡½æ•°è¿”å›å€¼ç±»å‹</li>
</ul>
<p><strong>Parameters</strong>çš„ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">exampleFunction</span>(<span style="color:#a6e22e">x</span>: <span style="color:#66d9ef">number</span>, <span style="color:#a6e22e">y</span>: <span style="color:#66d9ef">string</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">`</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">x</span><span style="color:#e6db74">}</span><span style="color:#e6db74">_</span><span style="color:#e6db74">${</span><span style="color:#a6e22e">y</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ExampleFuncParams</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Parameters</span>&lt;<span style="color:#f92672">typeof</span> <span style="color:#a6e22e">exampleFunction</span>&gt;; <span style="color:#75715e">// [x: number, y: string]
</span></span></span></code></pre></div><p>åœ¨å®ç°ä¸Šï¼Œ éœ€è¦ç”¨<strong>infer</strong>å…³é”®å­—ï¼Œ ç”¨äºæ¨æ–­ï¼Œ åªèƒ½ç”¨äºæ¡ä»¶è¡¨è¾¾å¼ä¸­ã€‚
æ€è€ƒä¸€ä¸‹ Parameters çš„å®ç°ï¼Œ é¦–å…ˆæ˜¯ç±»å‹å®šä¹‰ï¼Œ å…¶å¿…é¡»æ¥å—ä¸€ä¸ªå‡½æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Parameters</span>&lt;<span style="color:#f92672">T</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">Function</span>&gt;
</span></span></code></pre></div><p>ä¹‹åï¼Œ å¦‚ä½•æå–å‡½æ•°å‚æ•°å‘¢ï¼Ÿ ğŸ¤”ï¼Œ ä½¿ç”¨ infer å…³é”®å­—æ¥å®ç°</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_Parameters</span>&lt;<span style="color:#f92672">T</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">Function</span>&gt; <span style="color:#f92672">=</span> <span style="color:#a6e22e">T</span> <span style="color:#66d9ef">extends</span> (...<span style="color:#a6e22e">args</span>: <span style="color:#66d9ef">infer</span> <span style="color:#a6e22e">R</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">any</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">R</span> : <span style="color:#66d9ef">never</span>;
</span></span></code></pre></div><p>è¿™é‡Œçš„ infer R è¡¨ç¤ºæ¨æ–­å‚æ•°çš„ç±»å‹ï¼Œ ä¸ä¹‹ç›¸ä¼¼çš„å¯ä»¥æ¨æ–­è¿”å›å€¼çš„ç±»å‹</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-ts" data-lang="ts"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">_ReturnType</span>&lt;<span style="color:#f92672">T</span> <span style="color:#a6e22e">extends</span> <span style="color:#a6e22e">Function</span>&gt; <span style="color:#f92672">=</span> <span style="color:#a6e22e">T</span> <span style="color:#66d9ef">extends</span> (...<span style="color:#a6e22e">args</span>: <span style="color:#66d9ef">any</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">infer</span> <span style="color:#a6e22e">R</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">R</span> : <span style="color:#66d9ef">never</span>;
</span></span></code></pre></div>
    </div>
    <div class="post-footer">
      
    </div>
  </article>

    </main>
  </body>
</html>
